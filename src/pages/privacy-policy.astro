---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout 
  title="Privacy Policy - Hack-Nocturne '25"
  description="Privacy policy for Hack-Nocturne '25 hackathon platform, detailing how we collect, use, and protect your personal information."
>
  <Header showMenu={false} showBackLink={true} />
  
  <main class="legal-page">
    <div class="container">
      <div class="legal-content">
        <header class="legal-header">
          <h1>Privacy Policy</h1>
          <div class="legal-meta">
            <span><strong>Effective Date:</strong> July 27, 2025</span>
            <span><strong>Data Controller:</strong> TechHub & GLUG MVIT</span>
            <span><strong>Contact:</strong> <a href="mailto:contact@hack-nocturne.in?subject=Privacy+Policy+Inquiry+-+Hack-Nocturne">contact@hack-nocturne.in</a></span>
          </div>
        </header>

        <section class="legal-section">
          <h2>1. Introduction</h2>
          <p>This Privacy Policy explains how we collect, use, share, and retain your personal information when you use the Hack-Nocturne Platform.</p>
        </section>

        <section class="legal-section">
          <h2>2. Information We Collect</h2>
          <div class="data-categories">
            <div class="data-category">
              <h3>Registration Data</h3>
              <ul>
                <li>Name</li>
                <li>Email address</li>
                <li>Phone number</li>
                <li>Team affiliation</li>
              </ul>
            </div>
            <div class="data-category">
              <h3>Project Data</h3>
              <ul>
                <li>GitHub links</li>
                <li>Problem statements</li>
                <li>Rubric scores</li>
                <li>Jury notes</li>
              </ul>
            </div>
            <div class="data-category">
              <h3>Technical Data</h3>
              <ul>
                <li>IP address</li>
                <li>Device and browser metadata</li>
                <li>Analytics data</li>
              </ul>
            </div>
            <div class="data-category">
              <h3>Usage Data</h3>
              <ul>
                <li>Page visits</li>
                <li>Feature usage via Cloudflare analytics</li>
              </ul>
            </div>
          </div>
        </section>

        <section class="legal-section">
          <h2>3. Purpose of Processing</h2>
          <p>We process your data to:</p>
          <div class="legal-subsection">
            <ul class="purpose-list">
              <li>Provide and improve Platform functionality</li>
              <li>Facilitate hackathon operations (registration, judging, leaderboards)</li>
              <li>Communicate system messages, updates, and (opt-in) marketing emails</li>
              <li>Detect and prevent fraud or abuse</li>
              <li>Comply with legal obligations</li>
            </ul>
          </div>
        </section>

        <section class="legal-section">
          <h2>4. Data Sharing</h2>
          <div class="sharing-categories">
            <div class="sharing-category">
              <h3>Sponsors/Partners</h3>
              <p>For internships and promotion, only with explicit consent</p>
            </div>
            <div class="sharing-category">
              <h3>Jury Members</h3>
              <p>Access to limited participant data during event</p>
            </div>
            <div class="sharing-category">
              <h3>Third-Party Providers</h3>
              <p>Cloudflare, NeonDB, Grafana, AWS, Azure, GCP, Razorpay, Google Maps; bound by their own privacy terms</p>
            </div>
          </div>
        </section>

        <section class="legal-section">
          <h2>5. Data Retention & Deletion</h2>
          <div class="legal-subsection">
            <ul>
              <li>Retained up to two years post-event for legal and operational purposes</li>
              <li>Data erasure requests accepted via <a href="mailto:legal@hack-nocturne.in?subject=Data+Erasure+Request+-+Hack-Nocturne">legal@hack-nocturne.in</a>, effective six months after event conclusion</li>
            </ul>
          </div>
        </section>

        <section class="legal-section">
          <h2>6. Security Measures</h2>
          <div class="security-notice">
            <p>We implement administrative, technical, and physical safeguards (e.g., encrypted storage, access controls) to protect your data. However, no system is entirely secure, and we cannot guarantee absolute security.</p>
          </div>
        </section>

        <section class="legal-section">
          <h2>7. Cookies & Analytics</h2>
          <p>We use cookies and Cloudflare's built-in analytics to monitor site performance and user behavior. You may disable cookies in your browser settings, though this may impair Platform functionality.</p>
        </section>

        <section class="legal-section">
          <h2>8. Your Rights</h2>
          <div class="rights-grid">
            <div class="right-item">
              <h3>Access</h3>
              <p>Access to your personal data</p>
            </div>
            <div class="right-item">
              <h3>Correction</h3>
              <p>Correction of inaccurate data</p>
            </div>
            <div class="right-item">
              <h3>Portability</h3>
              <p>Portability of personal data</p>
            </div>
            <div class="right-item">
              <h3>Deletion</h3>
              <p>Request deletion (subject to six-month minimum retention)</p>
            </div>
            <div class="right-item">
              <h3>Consent</h3>
              <p>Withdraw consent for marketing communications</p>
            </div>
          </div>
        </section>

        <section class="legal-section">
          <h2>9. International Transfers</h2>
          <p>All data processing occurs within India or via service providers bound by standard contractual clauses.</p>
        </section>

        <section class="legal-section">
          <h2>10. Children's Privacy</h2>
          <div class="age-restriction">
            <p><strong>Important:</strong> Users must be at least 18 years old. We do not knowingly collect data from minors.</p>
          </div>
        </section>

        <section class="legal-section">
          <h2>11. Changes to This Policy</h2>
          <p>We may update this Privacy Policy. Users will receive seven days' advance notice via email. Continued use implies acceptance of revised terms.</p>
        </section>

        <footer class="legal-footer">
          <div class="contact-info">
            <h3>Contact Information</h3>
            <p>For questions regarding this Privacy Policy or to exercise your rights, please contact us at: <a href="mailto:legal@hack-nocturne.in">legal@hack-nocturne.in</a></p>
          </div>
          <div class="last-updated">
            <em>Last updated: July 27, 2025</em>
          </div>
        </footer>
      </div>
    </div>
  </main>
  
  <Footer hideMargin />
</Layout>

<style>
  .legal-page {
    min-height: 100vh;
    background: var(--color-bg-primary);
    padding: var(--space-20) 0 var(--space-16);
  }

  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 var(--space-6);
  }

  .legal-content {
    background: var(--color-bg-secondary);
    border: 2px solid var(--color-frosted-border);
    border-radius: var(--radius-2xl);
    padding: var(--space-12);
    box-shadow: var(--shadow-2xl);
    backdrop-filter: blur(20px);
  }

  .legal-header {
    text-align: center;
    margin-bottom: var(--space-12);
    padding-bottom: var(--space-8);
    border-bottom: 2px solid var(--color-frosted-border);
  }

  .legal-header h1 {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-white);
    margin-bottom: var(--space-6);
    line-height: var(--line-height-tight);
  }

  .legal-meta {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .legal-meta span {
    color: var(--color-text-secondary);
    font-size: var(--font-size-md);
  }

  .legal-section {
    margin-bottom: var(--space-10);
    scroll-margin-top: var(--space-20);
  }

  .legal-section h2 {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-accent);
    margin-bottom: var(--space-6);
    line-height: var(--line-height-tight);
    border-left: 4px solid var(--color-primary);
    padding-left: var(--space-4);
  }

  .legal-section h3 {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-white);
    margin-bottom: var(--space-4);
    line-height: var(--line-height-snug);
  }

  .legal-section p {
    color: var(--color-text-secondary);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-4);
    font-size: var(--font-size-md);
  }

  .legal-section p:last-child {
    margin-bottom: 0;
  }

  .legal-subsection {
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-frosted-border);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    margin-top: var(--space-4);
  }

  /* Data Categories Grid */
  .data-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-6);
  }

  .data-category {
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-frosted-border);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
  }

  .data-category h3 {
    color: var(--color-accent);
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-4);
    border-bottom: 2px solid var(--color-primary);
    padding-bottom: var(--space-2);
  }

  .data-category ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .data-category li {
    color: var(--color-text-secondary);
    padding: var(--space-2) 0;
    border-bottom: 1px solid var(--color-frosted-border);
    position: relative;
    padding-left: var(--space-5);
  }

  .data-category li:last-child {
    border-bottom: none;
  }

  .data-category li::before {
    content: "•";
    color: var(--color-primary);
    font-weight: var(--font-weight-bold);
    position: absolute;
    left: 0;
  }

  /* Sharing Categories */
  .sharing-categories {
    display: grid;
    gap: var(--space-6);
    margin-top: var(--space-6);
  }

  .sharing-category {
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-frosted-border);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
  }

  .sharing-category h3 {
    color: var(--color-accent);
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-3);
  }

  .sharing-category p {
    margin: 0;
    color: var(--color-text-secondary);
  }

  /* Rights Grid */
  .rights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
    margin-top: var(--space-6);
  }

  .right-item {
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-frosted-border);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    text-align: center;
  }

  .right-item h3 {
    color: var(--color-accent);
    font-size: var(--font-size-md);
    margin-bottom: var(--space-2);
  }

  .right-item p {
    margin: 0;
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
  }

  /* Special sections */
  .security-notice {
    background: var(--color-bg-tertiary);
    border: 2px solid var(--color-accent);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    margin-top: var(--space-4);
  }

  .security-notice p {
    margin: 0;
    font-weight: var(--font-weight-medium);
  }

  .age-restriction {
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    margin-top: var(--space-4);
  }

  .age-restriction p {
    margin: 0;
    color: var(--color-white);
    font-weight: var(--font-weight-medium);
    text-align: center;
  }

  /* Lists */
  .purpose-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .purpose-list li {
    color: var(--color-text-secondary);
    padding: var(--space-3) 0;
    border-bottom: 1px solid var(--color-frosted-border);
    position: relative;
    padding-left: var(--space-6);
  }

  .purpose-list li:last-child {
    border-bottom: none;
  }

  .purpose-list li::before {
    content: "✓";
    color: var(--color-accent);
    font-weight: var(--font-weight-bold);
    position: absolute;
    left: 0;
  }

  .legal-footer {
    margin-top: var(--space-12);
    padding-top: var(--space-8);
    border-top: 2px solid var(--color-frosted-border);
    text-align: center;
  }

  .contact-info {
    margin-bottom: var(--space-6);
  }

  .contact-info h3 {
    color: var(--color-white);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-4);
  }

  .contact-info p {
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
  }

  .contact-details {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    margin-top: var(--space-4);
  }

  .last-updated {
    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
  }

  /* Links */
  a {
    color: var(--color-text-link);
    text-decoration: none;
    transition: color var(--transition-fast);
    font-weight: var(--font-weight-medium);
  }

  a:hover {
    color: var(--color-accent);
    text-decoration: underline;
  }

  a:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  /* Strong/Bold text styling */
  strong {
    color: var(--color-white);
    font-weight: var(--font-weight-semibold);
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .legal-page {
      padding: var(--space-16) 0 var(--space-12);
    }

    .container {
      padding: 0 var(--space-4);
    }

    .legal-content {
      padding: var(--space-8);
    }

    .legal-header h1 {
      font-size: var(--font-size-3xl);
    }

    .legal-meta {
      text-align: left;
    }

    .legal-section h2 {
      font-size: var(--font-size-xl);
    }

    .legal-section p {
      font-size: var(--font-size-sm);
    }

    .data-categories {
      grid-template-columns: 1fr;
    }

    .rights-grid {
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }

    .contact-details {
      text-align: left;
    }
  }

  @media (max-width: 480px) {
    .legal-header h1 {
      font-size: var(--font-size-2xl);
    }

    .legal-section h2 {
      font-size: var(--font-size-lg);
      border-left-width: 3px;
      padding-left: var(--space-3);
    }

    .rights-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Accessibility improvements */
  @media (prefers-reduced-motion: reduce) {
    * {
      transition: none !important;
      animation: none !important;
    }
  }

  /* Print styles */
  @media print {
    .legal-page {
      background: white;
      color: black;
    }

    .legal-content {
      background: white;
      border: 1px solid #ccc;
      box-shadow: none;
    }

    .legal-header h1,
    .legal-section h2,
    .legal-section h3,
    strong {
      color: black;
    }

    .legal-section p,
    .contact-info p,
    .legal-meta p,
    .data-category li,
    .purpose-list li {
      color: black;
    }

    a {
      color: blue;
      text-decoration: underline;
    }

    .data-category,
    .sharing-category,
    .right-item,
    .security-notice,
    .age-restriction {
      background: #f9f9f9;
      border: 1px solid #ccc;
    }
  }
</style>
